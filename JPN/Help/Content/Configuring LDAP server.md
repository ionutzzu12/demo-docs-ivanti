---
title:  Configuring LDAP server
createdAt: Wed Dec 10 2025 07:42:01 GMT+0000 (Coordinated Universal Time)
updatedAt: Wed Dec 10 2025 07:42:28 GMT+0000 (Coordinated Universal Time)
---

## ライセンス：

LDAPサーバーとConnector を構成すると、企業ディレクトリからユーザやグループをインポートできます。 少なくとも1つのConnector をインストールした後に、1つ以上のLDAPサーバーを追加できます。

LDAPサーバーを追加すると、次の項目が構成されることになります。
- LDAPサーバーへの*接続*
- ターゲットディレクトリのデータを表示するために必要な*検索語*
- *インポート*するディレクトリの部分
- ディレクトリの選択した部分に自動的に*ユーザを招待*するかどうか。


[****](#To_edit_the_LDAP_server_information)[****](#To_change_the_users__groups__or_organizational_units_selected)LDAPサーバーの追加後、このページに戻りLDAPサーバー情報の編集または選択したLDAPユーザの変更を行うことができます。

LDAPユーザの構成後、LDAPユーザをインポートする必要があります。 [****](#To_import_LDAP_users)LDAPユーザ名は、ローカルユーザ名と同様、グローバルに一意である必要があります。 ユーザが同じユーザ名でローカルアカウントをすでに持っていないか、または、2件以上のテナントを持つ組織の場合はユーザ名がすでに別のテナントに関連付けれられていないか、確認してください。

## LDAPサーバーの追加

手順

1. **[+サーバーを追加]** をクリックします。
2. 次の情報を入力します。


| **設定** | 対処方法 |
 | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
 | 名前 | このサーバーを識別する名前を入力します。                                                                                                                                                                                                                                                                                 このサーバーの目的を明示する説明を入力します。|

 | ディレクトリ URL | ディレクトリの URL を入力します。 以下のいずれかの形式を使用してください。<br />ldap://IPアドレス または<br />ldaps://IPアドレス または<br />例: ldap\\://myserver1.mycompany.com:389 |

 | ユーザー ID | 次の特性を持つアカウントのユーザー ID を入力します。<br />LDAPサーバーによって管理されている
* LDAPサーバーをバインドし、ユーザ、グループ、組織単位のサブツリーを検索できる<br />これは通常、ディレクトリ管理者の認証情報（DN、つまり識別名、とパスワード）を有するアカウントです。アカウントのパスワードを入力します。|

 | パスワードの確認 | アカウントのパスワードを再入力します。                                                                                                                                                                                                                                                                                    サポートされているディレクトリのリストからディレクトリのタイプを選択します。<br />* マイクロソフト アクティブ ディレクトリ
* LDAP を開く
* その他（OpenLDAP対応）


3. **[接続をテストして続行]** をクリックします。
4. この手順により、ここまで入力した情報が検証されます。 
   - 情報が有効であると認められると、サービスはLDAPの命名コンテキストを読み出し、それを使用して次ページのいくつかのフィールドに入力します。
   - LDAP URLに接続できなくても、次の手順に進めます。 ただし、接続が解決されるまで機能が制限される場合があります。

5. 残りの設定を完了させます。


| 設定 | 対処方法 |

 | -------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |

 | ディレクトリ フェールオーバー URL | セカンダリ ディレクトリの URL を入力します。 次のフォーマットを使用します。<br />ldap://IPアドレス または<br />例: ldap\\://myserver2.mycompany.com:389 |

 | 同期間隔 | LDAP サーバーからの LDAP データの同期を試行する間隔を入力します。 デフォルト値は15分です。 ターゲットのLDAPデータをすべて正常に同期し終わり、LDAP設定がニーズに合っていることを確認したら、この間隔を増やすことを検討してください。[****](#To_enable_LDAP_Sync_Discard_Notification)リロードされたデータセットが大幅に減少している場合は、LDAP同期データを自動的に破棄するという設定を選択します。 このオプションは、LDAPシステムの部分的な異常動作によってサービスに故障の原因となる不必要なアップデートが発生したり、登録済みのデバイスから構成が削除されるといった状況を防ぐものです。 LDAP設定またはLDAPサーバーに大幅な変更を加える予定がある場合は、このオプションが選択されていないことを確認してください。|

 | この LDAP サーバーを有効にする | サービスでこの LDAP サーバーを使用するには選択します。 このLDAPサーバーを撤去するか、サービス停止にする場合は、この設定を解除します。 セカンドLDAPサーバーに対する構成済みのフェイルオーバーによりこのサーバーが自動的に置き換えられますが、このオプションを利用すると、事前に計画を立て、フェイルオーバー中の短時間の接続不能状態を回避することができます。|

 | インポートされるたびにユーザーを自動的に招待する | LDAP サーバーからユーザーがインポートされるときに、自動的に招待状を送信する場合に選択します。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ****[ファイルを選択] をクリックし、このLDAPサーバーにインストールされているCA発行のTLS証明書ををアップロードします。 CA証明書は複数アップロードできます。マルチフォレストのドメインを使用している場合のみ該当します。 このオプションは、要求されたオブジェクトのコピーがターゲットのドメインコントローラにない場合に、別のドメインコントローラを使用するかどうかを示します。<br />****参照元を使用したい場合は [フォロー] を選択します。
* 別のドメインコントローラを使用しない場合は **[無視]** を選択します。
* **[スロー]** も現在のところ **[無視]** と同じ効果を持ちます。<br />****[フォロー] を選択するとLDAP認証が遅くなります。LDAPサーバーから同期したデータの閲覧時にパフォーマンスの問題が発生したり、結果が不完全であったりする場合には、このタイムアウトの値を増やします。LDAPサーバーから一度に返すべきレコードの最大数を設定します。 パフォーマンス改善のためにこの設定の変更が必要となるようなシナリオは以下のとおりです。<br />LDAPサーバーが非常に遠方にあるか、待ち時間の長いリンクの先にある場合。 この場合は、検索結果が大きければ、小さな検索結果よりも読み出しに時間がかかるため、小さなセットを定義することで、更新されたデータのサブセットをより迅速に表示できるようになります。 
* LDAPの規模が大きく、毎回の検索で膨大な結果セットが返される場合。 この場合は、パフォーマンスに問題がなければ、より大きな結果セットを定義すると、少ない検索回数ですべてのデータを返すことができるようになります。 |


5. ****サンドボックス環境の場合、LDAP同期間隔を8時間未満にスケジュールすることはできません。 
6. 次のガイドラインを利用して、LDAPサーバーとの統合を構成します。


| **設定** | 対処方法 |
 | ------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
 | グループ メンバー形式 | 検索で識別名を使用するかユーザー ID を使用するかを指定するには、 **DN** または **UID** を選択します。                                                                                                                                                                                                                                                                                                                                                                                                      **組織単位レベルでの検索基準を指定します。検索のrootとしたい、あるいはそこから検索を始めたいレベルの識別名を入力します。 この選択により他のフィールドのデフォルト値が決まりますが、それらは必要に応じて変更することができます。必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 これは、時間およびOU名の変更を越えて組織単位を一意に識別する属性です。必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 ターゲットに対するLDAPの階層の部分を選択します。<br />****ベース（検索ベースエントリのみのレベル）
* **ワンレベル**（検索ベースの下のレベル）
* **サブツリー** (検索ベース DN の下のディレクトリ情報ツリー内のサブツリー) |
 | *ユーザー検索属性* | 特定のディレクトリ レベルでユーザーを検索するための条件を指定します。                                                                                                                                                                                                                                                                                                                                                                                                                                               検索を始めるレベルの識別名を入力します。必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 これは、時間およびユーザ名の変更を越えてユーザを一意に識別する属性です。必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 ターゲットに対するLDAPの階層の部分を選択します。<br />****ベース（検索ベースエントリのみのレベル）
* **ワンレベル**（検索ベースの下のレベル）
* **サブツリー** (検索ベース DN の下のディレクトリ情報ツリー内のサブツリー) |
 | 管理対象 Apple ID | LDAP ユーザーの管理対象 Apple ID を同期することを選択します。<br />****なし
* **パターン **-
  - **ユーザのメールアドレス**
  - **userUPN**

* 任意で **[「appleid」サブドメインを含める]** オプションを選択し、既存のApple IDとの競合を避けます。[***](#)（任意）カスタム属性の追加 - デバイス管理に適用したいカスタム ユーザ属性をディレクトリ サービスから指定します。 これにより、各属性は、変数をサポートする構成フィールドの${attributeName}によって参照されます。 <br />**重要** このオプションを使用するには、すべてのOktaサーバーにカスタム属性を一貫して実装しておく必要があります。 実装に含まれるLDAPサーバーの1つがこの属性を使用していない場合、この属性に依存する機能が意図通りに機能しないことがあります。|

 | *グループ検索属性*      検索を始めるレベルの識別名を入力します。必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 これは、時間およびグループ名の変更を越えてグループを一意に識別する属性です。必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 必要に応じて、お使いのLDAP環境に合うようデフォルト値を変更します。 ターゲットに対するLDAPの階層の部分を選択します。<br />* **ベース（検索ベースエントリのみのレベル）
* **ワンレベル**（検索ベースの下のレベル）
* **サブツリー**（検索ベースDNの下のディレクトリ情報ツリーにあるサブツリー）


7. **[参照]** または **[検索]** をクリックします。
8. 構成により想定されたデータが返されていることを確認します。
9. **** ディレクトリ内で既知の項目を参照または検索することにより、これを実行できます。


## カスタムLDAP属性の削除

カスタムLDAP属性を削除し、その値を関連ユーザ/デバイスから削除します。 

手順

1. **[管理] > [属性]** を開きます。
2. **[カスタム属性]** セクションで、削除したいLDAP属性の隣にある **[削除]** リンクをクリックします。 確認ウィンドウが表示されます。 
3. 削除を確認するには、[ **削除** ] をクリックします。 **削除** ボタンはデフォルトで無効になっています。 **[カスタム属性の削除が元に戻せないことを理解します。]** オプションのチェックボックスを選択し、**[削除]** ボタンを有効化してください。


## [****](#)LDAPサーバー情報の編集

手順

1. **[管理] > [LDAP]** を開きます。
2. LDAPサーバーエントリの **[アクション]** 列から **[編集]** アイコンを選択し、[LDAPサーバーに接続] ページを表示させます。
3. 必要な変更を施します。
4. [**接続テスト] と [続行] をクリックします。
 LDAP **URL への接続に失敗した場合は、次の手順に進みます。ただし、接続が解決されるまで機能が制限される場合があります。
5. **[参照]** または **[検索]** をクリックします。
6. 構成によって期待どおりのデータが返されることを確認します。

これは、ディレクトリ内の既知の項目を参照または検索することで実行できます。
7. **[完了]** をクリックします。


## [****](#)LDAPユーザのインポート

手順

1. **[ユーザ]** を開きます。
2. **[+追加] > [LDAPからユーザを招待]** をクリックします。
3. LDAPサーバーエントリ中の **[ユーザを選択]** をクリックします。
4. [LDAPユーザを追加] ページで、ユーザ、グループ、OUの名前を検索フィールドを入力します。
5. 新規ユーザやグループを追加するには、追加したいエントリの横にある **[+追加]** をクリックします。
6. **[次へ]** をクリックします。
7. 招待状を送信するかどうかを選択します。
   - ******** 後で招待を送信するには、[ユーザ] > [ユーザ] へ進み、[アクション] > [招待を送信] を選択して招待を送信します。
   - すべて招待

8. **[完了]** をクリックします。


## [****](#)選択したユーザ、グループ、組織単位の更新

手順

1. **[管理] > [LDAP]** を開きます。
2. LDAPサーバーエントリの **[アクション]** 列から **[ユーザを管理]** アイコンを選択し、[LDAPユーザを追加] ページを表示します。
3. 新規ユーザやグループを追加するには、検索フィールドにユーザ名またはグループ名を入力します。
4. 追加したいエントリの横にある **[+追加]** をクリックします。
5. ユーザ、グループ、OUを削除するには、削除したいエントリの横にある削除アイコンをクリックします。
6. **[完了]** をクリックします。


## [****](#)LDAP同期放棄通知の有効化

LDAP同期放棄通知の有効化により、LDAP環境への予期しない大規模な変更による機能停止が防止されます。

手順

1. **[管理] > [LDAP]** を開きます。
2. LDAPサーバーエントリの **[アクション]** 列から **[編集]** アイコンを選択し、[LDAPサーバーに接続] ページを表示させます。
3. **[同期放棄を有効化] ** チェックボックスをオンにします。
4. 同期放棄を実行する基準となるリロード済みLDAPデータの割合を入力します。
5. [**接続テスト] と [続行] をクリックします。
 LDAP **URL への接続に失敗した場合は、次の手順に進みます。ただし、接続が解決されるまで機能が制限される場合があります。
6. **[完了]** をクリックします。
7. **** LDAP から Ivanti Neurons for MDM へ同期される変更が、所定の放棄割合を上回る場合、警告通知が生成されます。 変更が設定した割合を再び下回った場合は、通知が解除されます。


| トリガー | 重大度 | 通知タイプ | コンポーネントタイプ | コンポーネント |

 | ------------------ | -------- | ----------------- | -------------- | ---------------- |

 | LDAP 同期破棄 | 警告 | データ同期 | LDAP | LDAP サーバー名 |

 | LDAP 同期が復元されました | 情報 | データ同期 | LDAP | LDAP サーバー名 |

部分的同期放棄は、1つ以上のユーザレコードがLDAPからの同期に失敗した場合に生成されます。 この場合、同期できなかったユーザのリストがCSVファイルとして添付されます。 ユーザが属性の不足によって放棄された場合は、欠けている属性のリストもエクスポートされたCSVファイルに含まれます。

## LDAPサーバーからの変更の同期

[LDAP] ページで、LDAPサーバーエントリ中の **[今すぐ同期]** アイコンをクリックします。

表示名が128文字を超えている場合、LDAP同期は該当のユーザを無視し、他のユーザまたはユーザグループの同期を続行します。

## LDAPSサーバーへの接続に関するトラブルシューティング

LDAPS（LDAP over SSL）サーバーへの接続に問題が発生した場合は、証明書に問題がある可能性があります。

問題を解消するには：
- LDAPSサーバー上で自己署名証明書を使用していないことを確認してください。
- LDAPS証明書の有効期限切れ、無効化がないか確認してください。 また、ホスト名の不一致がないか確認してください。


確認後、自動LDAP同期を待つか、LDAPサーバーエントリ中の **[管理] > [LDAP] > [今すぐ同期]** アイコンを使用して手動で同期します。

[LDAP] ページが表示されない場合、必要な権限を持っていない可能性があります。 次のいずれかの [**ロール**](\<./User Roles.md>) が必要です。

- システム管理
- 読み取り専用システム

