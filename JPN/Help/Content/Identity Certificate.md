---
title: Identity Certificate
createdAt: Wed Dec 10 2025 07:42:02 GMT+0000 (Coordinated Universal Time)
updatedAt: Wed Dec 10 2025 07:42:28 GMT+0000 (Coordinated Universal Time)
---

このセクションは以下のトピックを含みます。

ID証明書構成では、モバイルデバイスの証明書認証メカニズムを定義します。 ID証明書とは、X.509証明書（.p12または.pfx）です。 ****ID証明書は認証機関をソースとして動的にも生成できます。 開始する前に、モバイルデバイスへの証明書配信を計画する方法を把握しておく必要があります。 必要な認証機関も構成しておいてください。 

 リリース91以降、AppleデバイスのデバイスID証明書は、有効期限切れになる前の30日以内に自動的に更新されます。 iOSデバイスは、定期的なデバイスチェックインフローの一部として、更新済みのMDM証明書をIvanti Neurons for MDMから受け取ります。 ただし、オフラインになっている期間が長すぎて、証明書期限切れ前の更新が行われていたであろうチェックインよりも前にすでにMDM証明書が期限切れになっていたiOSデバイスは、Ivanti Neurons for MDMへの再登録が必要になります。
- 新しいID証明書を作成する際、SHA-1証明書は使用できなくなりました。 他のアルゴリズムを選択してください。 証明書を更新する際、旧い証明書がSHA-1を使用していれば、同じSHA-1アルゴリズムを使用可能です。 旧い証明書がSHA-1より新しいアルゴリズムを使用している場合、SHA-1には変更できません。
- ID証明書を構成した後、**[構成をテストして続行]** をクリックし、テスト証明書の発行と有効性検証を行います。 主体者名がローカル認証機関と同じ場合、動的に生成された新規または既存のID証明書構成に対してこのテストを実行すると、エラーが表示される場合があります。 このエラーメッセージが表示された場合は、ID証明書の主体者名を、ローカル認証機関の主体者名とは異なるものに変更する必要があります。 既存のID証明書構成の主体者名が変更されると、証明書が再発行され、構成が再プッシュされます。

  テスト証明書の発行なしで構成を作成し、**動的生成**証明書を配布するオプションを設定している場合は、**[続行]** をクリックしてください。
- 証明書は暗黙的に再発行されます。
- AndroidアプリにID証明書が割り当てられている場合、ユーザのアプリがID証明書を取得し、証明書を使用する許可を（アプリではなく）ユーザが与えるためのプロンプトが表示されることはありません。 これにはEmail+、Gmailなどすべてのアプリが含まれます。
- Email+は、ユーザが入力した [ID証明書] で構成することができ、アプリ構成としてAndroid Enterpriseデバイスにプッシュし、割り当てることができます。 これは、会社所有デバイス上の仕事用プロファイルとデバイス所有者モードにのみ適用されます。


## [****](#)ID証明書設定

| **設定** | **対処方法** |
 | ------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
 | 名前 | この構成を識別する名前を入力します。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 この構成の目的を明示する説明を入力します。|

 | 証明書の配布 | 設定する証明書の配布の種類を選択します。<br />****シングルファイル：デバイスに配布する既存の証明書をアップロードします。
* **動的生成**：ローカルまたは外部の証明書機関を利用し、要求に応じて証明書を作成します。
* **ユーザ提供**：ユーザによってアップロードされる証明書のタイプのラベルを作成します。 作成した後、ユーザは作成したラベル（オプション）をセルフサービスポータルで閲覧し、そのラベルに対応する証明書をアップロードできます。
* **デバイス認証情報：**派生認証の用途を以下のいずれかに指定してください。 
  - 認証
  - 暗号化
  - 署名
  - 復号化

* ****ACME構成：ACMEサーバーからの証明書を要求する方法を指定します。
*  **SCEP構成**: SCEPサーバーからの証明書を要求する方法を指定します。 以下の構成から1つ選択してください。 
  - Apple 構成
  - Windows構成<br />選択により、残りのフォームに表示されるオプションが決まります。****適用先: 1つのファイル、動的に生成、ユーザ提供、SCEP Apple 構成 ID 証明書。<br />**** （任意）PKCS#12証明書の場合は、[すべてのアプリにプライベートキーへのアクセスを許可] オプションを有効化し、すべてのアプリがプライベートキーにアクセスできるようにします。 <br /> たとえばこのキーは、VPNに使用する証明書へのアクセスを許可するため、ユーザからパスワードが要求された場合などに使用できます。****証明書ファイルを点線で囲まれたボックスへドラッグするか、[ファイルを選択する] をクリックしてファイルシステムから選択します。PKCS#12証明書ファイルを保護するパスワードを入力します。 このパスワードはプロンプトなしでのインストールに使用されます。|
 | **動的に生成されました** | |
 | ソース | ドロップダウンからローカル証明機関を選択します。 この CA は、 **Admin > **[**Certificate Management**](\<./Certificate Management.md>) の下にすでに作成されているはずです。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

 | テスト証明書を発行せずに構成を作成する | テスト証明書を発行せずに構成を作成するには、チェック ボックスをオンにします。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |

 | Windows のみ - ターゲット証明書ストア | 管理者は、Windows デバイスでターゲット証明書ストアを選択できるようになりました。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
 | **ユーザー提供** | |
 | 証明書の表示名 | 証明書の名前を入力します。 この証明書の名前はテナントに固有であり、ユーザは証明書をアップロードする際にセルフサービスポータルで名前を見ることができます。**n（1～30）日後に証明書のプライベートキーを削除する場合に選択します。 <br />この操作には Ivanti Neurons for MDM が提供するAPIを使用できます。 **APIの詳細はAPIガイドをご覧ください。<br />プライベートキーが削除された後でこの証明書を構成に使用しようとすると（アプリケーションの認証やWi-FiまたはVPN構成のプッシュなど）、タスクは失敗します。 プライベートキーを削除する前に必ずタスクを実行してください。 証明書のプライベートキーがクリアされる日数（1～30）を選択します。 デフォルト値は2日です。|
 | **派生資格情報** | |
 | 派生資格情報の使用 | 次のいずれかのオプションを選択します。<br />****認証 - 派生認証情報を認証に使用することを指定します。

* **暗号化** - 派生認証情報の用途を暗号化に指定します。
* **署名** - 派生認証情報を署名に使用することを指定します。
* **復号化** - 派生認証情報の用途を復号化に指定します。 使用する派生認証情報プロバイダーを次から選択します。<br />****Entrust
* **Intercede**
* **Purebred**<br />****カスタム派生認証情報を追加する方法は、派生認証情報プロバイダーを参照してください。|
 | **ACME Config - iOS/iPadOS16 /macOS14 にのみ適用されます** | |
 | クライアント識別子 | 特定のデバイスを識別する一意の文字列 |
 | ディレクトリ URL | (必須) ACME サーバーのディレクトリ URL。 このURLには、httpsスキームを使用する必要があります。|

 | 拡張キー使用法 | 値は文字列の配列です。 各文字列はドット表記のOIDです。 たとえば、[”1.3.6.1.5.5.7.3.2”, “1.3.6.1.5.5.7.3.4”] はクライアント認証とメール保護を示します。<br />デバイスは、ACMEサーバーが発行する証明書の場合に、このフィールドを要求します。 ACMEサーバーは、自身が発行した証明書内ではこのフィールドをオーバーライドまたは無視する場合があります。（必須）KeySizeの有効値は、KeyTypeとHardwareBoundの値に依存します。 特定の要件については、それぞれのキーを参照してください。（必須）生成するキーペアのタイプ。（必須）OIDと値をコンマで区切って配列するX.500名を入力します。 一般に、サブジェクトはユーザの完全修飾ドメイン名にします。 たとえば、C=US,DC=com,DC=MobileIron,OU=InfoTechやCN=www.mobileiron.comとします。<br />また、OIDに変数を追加してサブジェクトをカスタマイズすることができます。 たとえば、CN=www.mobileiron.com-${deviceGUID}です。<br />設定を簡素化するために、${userDN}変数を使用して [サブジェクト] にユーザのFQDNを入力することもできます。<br />主体者名にはバックスラッシュ（\）を使用しないでください。ACMEサーバーが発行する証明書の場合にデバイスが要求するサブジェクト別名。 ACMEサーバーは、自身が発行した証明書内ではこのフィールドをオーバーライドまたは無視する場合があります。|

 | キーの使用法 | この値はビット フィールドです。<br />ビット0x01は、デジタル署名を示します。<br />ビット0x10はキーの承諾を示します。<br />デバイスは、ACMEサーバーが発行する証明書の場合に、このキーを要求します。 ACMEサーバーは、自身が発行した証明書内ではこのフィールドをオーバーライドまたは無視する場合があります。[バインドされたハードウェア] がtrueに設定されていると、プライベートキーがデバイスにバインドされ、そうなると、キータイプはECSECPrimeRandomでなければならず、キーサイズは256または384でなければなりません。trueの場合、デバイスは、デバイスを記述する構成証明と生成されたキーをACMEサーバーに提供します。 [証明] がtrueの場合は、[バインドされたハードウェア] もtrueであることが必要です。|

 | SCEP 構成 - Apple 構成 | |

 | ID 証明書 (SCEP) | SCEP サーバーを指定する場合に選択します。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
 | ローカル証明機関 | **Admin > **[**Certificate Management**](\<./Certificate Management.md>) で既に作成してあるローカル証明機関を指定する場合に選択します。 このオプションを選択したときに表示されるドロップダウンからローカル証明書機関を選択します。****開始する前に：Entrust-CAを作成済みであることを確認してください。<br />必要なEntrust SCEPの詳細を作成し、構成をデバイスにプッシュする場合に選択します。 Entrust-CAオプションを選択すると、次のフィールドが表示されます。<br /> ソース
* ユーザ名
* URL
* プロファイルID<br />管理者は新しいEntrust SCEP構成を作成する必要があります。古い非Entrust Identity構成を編集することや、Entrust SCEPに変更することは、許可されません。SCEPサーバのURLを入力します。認証機関によって提供された識別子を入力します。 OIDと値をコンマで区切って配列するX.500名を入力します。 一般に、サブジェクトはユーザの完全修飾ドメイン名にします。 たとえば、C=US,DC=com,DC=MobileIron,OU=InfoTechやCN=www.mobileiron.comとします。<br />また、OIDに変数を追加してサブジェクトをカスタマイズすることができます。 たとえばCN=www.mobileiron.com-$DEVICE_CLIENT_ID$です。<br />設定を簡素化するために、$USER_DN$変数を使用して [サブジェクト] にユーザのFQDNを入力することができます。<br />主体者名にはバックスラッシュ（\）を使用しないでください。証明書テンプレートの属性に基づき、RFC 822名、DNS名、URI、または「なし」を選択します。|

 | サブジェクト代替名の値 | 対応するタイプの値を入力します。 先頭文字として「$」を入力すると、可能なカスタムLDAPおよびEntra ID属性のドロップダウンリストが表示されます。 リストから適切なカスタム属性を選択してください。<br /> Entra ID値を使用する場合は、「onPremisesImmutableId」のみサポートされます。 fn\\:base64tohex($\\{onPremisesImmutableId}) を入力します |

 | IgGroup | デバイス ユーザーの名前。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     登録されるデバイスのグループ。|

 | デバイス タイプ | 登録されたデバイスのタイプ。 Appleデバイスでサポートされています。 例：iOS。Microsoft環境の主体者別名を入力します。 これは通常ユーザのUPN（ユーザのプリンシパル名）を含むよう構成されます。（任意）事前共有シークレットとして自動登録に使用されています。最初に「保留」というステータスが返された後、認証を再試行できる回数をリストから選択して設定します。再試行までの間、待機する秒数をリストから選択して設定します。キーサイズを1024、2048、4096から選択します。デジタル署名として使用 - 証明書を署名に使用できる場合に選択します。キー暗号化として使用 - 証明書を暗号化に使用できる場合に選択します。認証機関がHTTPを使用している場合は、CAの証明書のフィンガープリントとして使用される16進数を入力します。 MD5フィンガープリントがサポートされています。<br />希望に応じて、証明書からフィンガープリントを作成することができます。 証明書を目的の部分にドラッグアンドドロップするか、**[証明書から作成]** をクリックし、ファイルシステムから証明書を選択します。|
 | SCEP 構成 - Windows 構成 | |
 | CA (証明機関) | **Admin > **[**Certificate Management**](\<./Certificate Management.md>) で既に作成してある証明機関を指定する場合に選択します。 このオプションを選択したときに表示されるドロップダウンから認証機関を選択します。 OIDと値をコンマで区切って配列するX.500名を入力します。 一般に、サブジェクトはユーザの完全修飾ドメイン名にします。 たとえば、C=US,DC=com,DC=MobileIron,OU=InfoTechやCN=www.mobileiron.comとします。<br />また、OIDに変数を追加してサブジェクトをカスタマイズすることができます。 たとえばCN=www.mobileiron.com-$DEVICE_CLIENT_ID$です。<br />設定を簡素化するために、$USER_DN$変数を使用して [サブジェクト] にユーザのFQDNを入力することができます。<br />主体者名にはバックスラッシュ（\）を使用しないでください。****[追加] をクリックし、証明書テンプレートの属性に基づいてRFC 822名、DNS名、URI、または「なし」を選択します。最初に「保留」というステータスが返された後、認証を再試行できる回数をリストから選択して設定します。再試行までの間、待機する秒数をリストから選択して設定します。キーサイズを1024、2048、4096から選択します。|

 | 使用方法を選択 | 少なくとも 1 つのオプションを選択してください:<br />デジタル署名として使用 - 証明書を署名に使用できる場合に選択します。
* キー暗号化として使用 - 証明書を暗号化に使用できる場合に選択します。有効期間を日数、月数、年数で選択します。認証機関がHTTPを使用している場合は、CAの証明書のフィンガープリントとして使用される16進数を入力します。 MD5フィンガープリントがサポートされています。<br />希望に応じて、証明書からフィンガープリントを作成することができます。 証明書を目的の部分にドラッグアンドドロップするか、**[証明書から作成]** をクリックし、ファイルシステムから証明書を選択します。|

 | ハッシュ アルゴリズム ファミリ | SHA-2 または SHA-3 アルゴリズムを選択します。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |


仕事用本人確認（Work Challenge）パスコードを設定せずにデバイスの仕事用プロファイルにID証明書を適用する場合、デバイスは仕事用本人確認パスコードではなくデバイスパスコードの入力を求めます。

[**](#)詳細については、構成の操作をご参照ください。
