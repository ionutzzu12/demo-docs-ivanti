---
title: Provisioning Package Enrollment with PIN
createdAt: Wed Dec 10 2025 07:42:03 GMT+0000 (Coordinated Universal Time)
updatedAt: Wed Dec 10 2025 07:42:28 GMT+0000 (Coordinated Universal Time)
---

 管理者は SCCM または Ivanti Endpoint Manager によって管理されているデバイスを  に登録できます。 配布パッケージ ツールを使用すると、ダウンタイムやエンドユーザの中断なく、 Modern Management への Windows デバイスの移行を合理化できます。 シームレスな移行を実現するには、 コンソールから固有の配布パッケージをダウンロードし、既存の管理ツールまたはドメインを使用して配布します。 パッケージが実行されると、エンドポイントは  にサイレントに登録され、管理が継続されます。 このアプローチにより、管理者はまずデバイスを簡単に移行し、その後、無線でデバイスを構成するという柔軟性が得られます。 デバイスの  へのサイレント登録が完了すると、そのデバイスはMDMと結合され、2つの管理権限によって共同管理されます。 管理者が  内で目的のWindows体験を構成したら、古い管理プラットフォームは廃止され、 がデバイスの唯一の管理機関となります。

 デバイスが Microsoft Endpoint Manager (MEM) (旧称 SCCM) から移行されている場合は、このルールが適用されません。 既存のMEMクライアントは、MEMプラットフォームが廃止されるまで、（共同管理モードではなく）共存モードで機能を継続します。 共存モードを有効化すると、MEMクライアントは特定の機能を自動的に無効化し、それらのワークロードが  によって提供されるようになります。 [****](https://docs.microsoft.com/en-us/mem/configmgr/comanage/coexistence/)詳細については、Microsoft の共存ドキュメントをご覧ください。

MEMおよび他のサードパーティ管理プラットフォームを使用した場合の具体的な動作に関し、Ivantiでは、まずお客様の環境で  導入パッケージツールをテストすることをお勧めします。

**前提条件**

-  ユーザアカウントは、LDAP、Entra ID（Entra ID）、ローカルユーザアップロード、または他のID統合を使用して、にインポートする必要があります。 
- [****](https://docs.microsoft.com/en-us/windows/configuration/provisioning-packages/provisioning-install-icd) すべてのデバイスには Windows Configuration Designer がインストールされている必要があります。 
-  PIN に基づく登録を有効にする 
- ユーザ名にはスペースを使用しないでください。これにより、ユーザ デバイスの移行が失敗する場合があります。
- このツールは、Entra IDを利用しない環境に配布できます。
-  Modern Windows管理スイートの主な要素はEntra IDを必要としません。 共同管理または共存には、移行中の影響を回避するために、サイレント登録時に特定のワークロード/構成を配布する必要があります。
- 配布パッケージは現在のところ、SCCMおよびIvanti Endpoint Managerでのみサポートされています。


**手順**

1. ****[管理 > Windows > 配布パッケージ] をクリックします。 
2. ************[ユーザ] または [ユーザグループ] を選択してPINを生成し、[配布パッケージのダウンロード]（.zipファイル）をクリックします。
3.  配布パッケージは SCCM / Ivanti Endpoint Manager 管理者に提供されます。管理者はパッケージを解凍して、該当する管理対象のデバイスに転送します。 [****](https://docs.microsoft.com/en-us/mem/configmgr/apps/deploy-use/packages-and-programs)この手順を実行する方法については、構成マネージャのパッケージとプログラムをご参照ください。
4.  転送後、管理者がリモートでデバイスの setup.ps1 スクリプトをトリガーします。 [****](https://docs.microsoft.com/en-us/mem/configmgr/apps/deploy-use/create-deploy-scripts)スクリプトのトリガーについては、構成マネージャからのスクリプトと配布をご参照ください。
5.  デバイスが  上に登録されます。 


### SCCM デバイスを登録する 

**手順**

1. 選択したユーザの  から配布関連ファイルをすべてダウンロードします。
2. 登録するアカウントまたはグループを選択します。
3. SCCM を使用してクライアント デバイスにパッケージ ファイルを配布する:    1. 必要なクライアントが SCCM に存在しているかどうかを確認します。 Windows-configuration-designer がクライアントに存在しない場合、管理者はデザイナーをプッシュし、クライアントに配布する必要があります。 
   2. SCCM サーバで、フォルダを作成し、配布 zip ファイルをコピーして、ファイルの内容を展開します。
   3. ファイルがクライアント デバイスに展開されるフォルダの内容をコピーする .bat ファイルを作成します。 
   4. SCCM で **[ソフトウェア ライブラリ] > [アプリケーション管理] > [パッケージ]** に移動し、フォルダの内容をクライアントにコピーするパッケージを作成します。 内容をコピーする保存先フォルダを入力します。 
   5. パッケージをデバイスまたはデバイスの場所に配布します。 
   6. [監視] セクションでは、配布ステータスを監視し、ファイルがクライアントの保存先フォルダにコピーされたことを確認できます。 

4. スクリプトを実行してデバイスを登録する:   1. **[ソフトウェア ライブラリ] > [スクリプト]** に移動し、スクリプトを作成します。 
   2. スクリプトの名前を入力し、解凍されたフォルダから PowerShell スクリプト **setup.ps1** をインポートします。 
   3. スクリプトを承認し、ターゲット デバイスでスクリプトを実行します。
   4. **[今すぐ開始]** を選択し、**[保存]** をクリックします。 スケジュールされたタスクにより、スクリプトの実行が開始します。 正常に実行されると、ステータスが緑色になります。

5. デバイス登録を検証するには、**[設定]** > **[プロビジョニング パッケージの追加と削除]** > **[詳細]** に移動します。


### Ivanti Endpoint Manager デバイスを登録する 

**手順**

1. 選択したユーザの  から配布関連ファイルをすべてダウンロードします。
2. 登録するアカウントまたはグループを選択します。
3. **ケース1**: 同じユーザ名でデバイスを登録するには、デバイス名が考慮されます。この場合、電子メールアドレスは有効なユーザ電子メールアドレスではありません。 AD ドメインが付いたデバイス名の電子メールアドレスは登録電子メールアドレスと見なされます。 管理者は、アカウントを LocalSystemAccount に設定し、setup.ps1 をプライマリ ファイルとして使用して PowerShell の実行を開始する必要があります。
   **ケース 2**: デバイスの登録には有効なユーザーの電子メール アドレスが考慮され、デバイスの場所にあるファイルの変更には制限がありません - 登録にはログインしているユーザーの電子メール アドレスを使用します。 この登録を有効にするには、管理者はアカウントを現在のユーザー アカウントに設定し、setup.ps1 をプライマリ ファイルとして使用して PowerShell の実行を開始する必要があります。
   **ケース 3**: デバイスの場所でファイルの変更が制限されているデバイスを登録するには、有効な電子メール アドレスが考慮されます - 登録にはログインしているユーザーの電子メール アドレスを使用します。 このケースには、次の2つのサブケースがあります。  
   - 登録では2つのスクリプトを使用します。**setupEPMCopyContentsToTempFolderStep2.ps1** で別の配布パッケージを作成し、現在のユーザ アカウントで実行します。 ファイルは一時的な場所にコピーされます。 **setupEPMCopyContentsToTempFolderStep2.ps1** で別の配布パッケージを作成し、Local System Account で実行します。 
   - パッケージファイルが含まれているフォルダの修正に関して、デバイスユーザに制限がある場合。ファイルを一時フォルダにコピーし、ユーザIDを確認して、PowerShellパッケージを作成します。 PowerShell packageは**setupEPMCopyContentsToTempFolderStep2.ps1**スクリプトで実行されます。 インストール後、一時フォルダは削除されます。     1. レジストリ エントリを更新して、UAC 制御を無効にし、コンピュータを再起動する
     2. 現在のユーザのアカウントで setup.ps1を使用して、PowerShell パッケージを実行する
     3. レジストリ エントリを更新して、UAC 制御を有効にし、コンピュータを再起動する


4. PowerShell パッケージを作成する:    1. 必要なクライアントが Endpoint Manager に存在しているかどうかを確認します。
   2. ファイルを C:\Program Files\LANDesk\ManagementSuite\LANDesk\files\ にコピーします。 このフォルダ内でサブフォルダを作成し、ファイルを展開します。
   3. パッケージの作成: **配布 > 配布パッケージ > 新規 > Windows > PowerShell**。
管理者は、デバイスに設定された制限のレベルに基づいて、パッケージをさまざまなデバイスに配布できます。
   4. [主ファイル] セクションで、パッケージ名を入力し、ファイルがコピーされたフォルダから setup.ps1 をアップロードします。
   5. [追加のファイル] セクションで、**[追加]** を使用して残りのファイル (setup.ps1 スクリプト以外) をコピーします。
   6. [アカウント] セクションで現在のユーザのアカウントを選択します。
   7. **[保存]** をクリックします。

5. スケジュールされたタスクを作成する:   1. 作成したパッケージを選択し、右クリックして、**[スケジュールされたタスクの作成]** を選択します。 スケジュールされたタスクが作成されている。 
   2. デバイスをドラッグし、スケジュールされたパッケージ セクションに追加します。 
   3. スケジュールされたパッケージを右クリックし、**[プロパティ]** を選択します。
   4. パッケージを検証します。 
   5. [タスク タイプ] の下で **[プッシュ]** を選択します。
   6. **[今すぐ開始]** を選択し、**[保存]** をクリックします。 スケジュールされたタスクにより、スクリプトの実行が開始します。 正常に実行されると、ステータスが緑色になります。

6. デバイス登録を検証するには、**[設定]** > **[プロビジョニング パッケージの追加と削除]** > **[詳細]** に移動します。 あるいは、管理者がデバイスの診断ログの下でデバイス登録を検証できます。 

